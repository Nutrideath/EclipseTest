<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="title">Dashboard</ui:define>

    <ui:define name="head">
           <script type="text/javascript">
               //<![CDATA[
               function skinBar() {
                   this.cfg.shadow = false;
                   this.cfg.title = '';
                   this.cfg.seriesColors = ['#00bcd4', '#cddc39'];
                   this.cfg.grid = {
                       background: '#ffffff',
                       borderColor: '#ffffff',
                       gridLineColor: '#EEEEEE',
                       shadow: false
                   };
                   this.cfg.axesDefaults = {
                       borderWidth: 0.1,
                       borderColor: 'dce2e7',
                       rendererOptions: {
                           textColor: '#212121'
                       }
                   };
                   this.cfg.seriesDefaults = {
                       shadow: false,
                       lineWidth: 1,
                       renderer: $.jqplot.BarRenderer,
                       markerOptions: {
                           shadow: false,
                           size: 7,
                           style: 'circle'
                       }
                   }
               }
               //]]>
           </script>
           <style type="text/css">
               .main-content {
                   padding: 0;
               }
           </style>
       </ui:define>



    <ui:define name="content">
        <div class="ui-g dashboard">
             <div class="ui-g-12 ui-md-3">
                <div class="overview-box overview-box-1" onclick="goToJobsView()" >
                    <div class="overview-box-header"></div>
                    <div class="overview-box-content">
                        <div class="overview-box-icon"><i class="material-icons">&#xE156;</i></div>
                        <div class="overview-box-title">Active Jobs</div>
                        <div class="overview-box-count">
                        	<h:outputText value="#{dataBean.dataService.jobCount}" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="ui-g-12 ui-md-3">
                <div class="overview-box overview-box-2" onclick="goToCustomersView()">
                    <div class="overview-box-header"></div>
                    <div class="overview-box-content">
                        <div class="overview-box-icon"><i class="material-icons">&#xE8D3;</i></div>
                        <div class="overview-box-title">Customers</div>
                        <div class="overview-box-count">
                        	<h:outputText value="#{dataBean.dataService.customerCount}" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="ui-g-12 ui-md-3">
                <div class="overview-box overview-box-3">
                    <div class="overview-box-header"></div>
                    <div class="overview-box-content">
                        <div class="overview-box-icon"><i class="material-icons">&#xE24D;</i></div>
                        <div class="overview-box-title">Files Sycned</div>
                        <div class="overview-box-count">28</div>
                    </div>
                </div>
            </div>
            <div class="ui-g-12 ui-md-3">
                <div class="overview-box overview-box-4">
                    <div class="overview-box-header"></div>
                    <div class="overview-box-content">
                        <div class="overview-box-icon"><i class="material-icons">&#xE56A;</i></div>
                        <div class="overview-box-title">User Directory</div>
                        <div class="overview-box-count">15 Users</div>
                    </div>
                </div>
            </div>
        
           <div class="ui-g-12 ui-lg-12 ui-g-nopad">
                <div class="ui-g-12 status-bars">
                    <div class="card">
						<p:dataTable value="#{dataBean.jobBeans}" var="job" sortBy="#{job.getSimpleTargetDate()}">
							<f:facet name="header">
								<h:outputText value="Job Progress" />
							</f:facet>
        					<p:column>
        					 					
        						<h:outputText value="#{job.rowKey} [#{job.getSimpleTargetDateNoTime()}]" />  

        						<div class="status-bar status-bar-5">
                                    <div class="status-bar-value" style="width:#{job.getJobProgress()}%">#{job.getJobStatus()}</div>
                                </div>

        					</p:column>  					
    					</p:dataTable>
					</div>
				</div>	
			</div>

            <div class="ui-g-12 ui-lg-4">
                <div class="task-box task-box-1">
                    <div class="task-box-header">
                        <i class="material-icons">&#xE5D5;</i>
                    </div>
                    
                    <div class="task-box-content">
                        <h3>Client Meeting v0.4.1</h3>
                        <p>Waiting brief from the client</p>
                    </div>
                    <div class="task-box-footer">
                        <span class="task-status">WAITING</span>
                        <p:graphicImage name="images/avatar1.png" library="serenity-layout" />
                        <p:graphicImage name="images/avatar2.png" library="serenity-layout" />
                        <p:graphicImage name="images/avatar3.png" library="serenity-layout" />
                    </div>
                </div>
            </div>
            <div class="ui-g-12 ui-lg-4">
                <div class="task-box task-box-2">
                    <div class="task-box-header">
                        <i class="material-icons">&#xE5D5;</i>
                    </div>
                    <div class="task-box-content">
                        <h3>Sale Reports</h3>
                        <p>Annual reports per branch</p>
                    </div>
                    <div class="task-box-footer">
                        <span class="task-status">IN PROGRESS</span>
                        <p:graphicImage name="images/avatar2.png" library="serenity-layout" />
                        <p:graphicImage name="images/avatar3.png" library="serenity-layout" />
                        <p:graphicImage name="images/avatar4.png" library="serenity-layout" />
                    </div>
                </div>
            </div>
            <div class="ui-g-12 ui-lg-4">
                <div class="task-box task-box-3">
                    <div class="task-box-header">
                        <i class="material-icons">&#xE5D5;</i>
                    </div>
                    <div class="task-box-content">
                        <h3>Marketing Meeting</h3>
                        <p>Marketing meeting to review sales.</p>
                    </div>
                    <div class="task-box-footer">
                        <span class="task-status">ON HOLD</span>
                        <p:graphicImage name="images/avatar1.png" library="serenity-layout" />
                        <p:graphicImage name="images/avatar2.png" library="serenity-layout" />
                        <p:graphicImage name="images/avatar3.png" library="serenity-layout" />
                    </div>
                </div>
            </div>

 


        </div>
        
        <script type="text/javascript">
			function goToJobsView() {	
				//alert("Call to goToJobsView()");
	    		window.location.href = "./jobView.xhtml";
			}
			
			function goToCustomersView() {	
				//alert("Call to goToCustomersView()");
	    		window.location.href = "./customerView.xhtml";
			}
		</script>
    </ui:define>

</ui:composition>

